[{"FM3":"FamixTypeScript.Class","id":4,"sourceAnchor":{"ref":5},"name":"FileDownloadController","container":{"ref":3},"behavioursWithDeclaredType":[{"ref":47}],"methods":[{"ref":6},{"ref":18},{"ref":41},{"ref":47}],"isInterface":false},{"FM3":"FamixTypeScript.CustomSourceLanguage","id":1,"name":"TypeScript"},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":2,"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":212,"endPos":1889},{"FM3":"FamixTypeScript.Namespace","id":3,"name":"DefaultNamespace","types":[{"ref":4}]},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":5,"element":{"ref":4},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":598,"endPos":1888},{"FM3":"FamixTypeScript.Method","id":6,"sourceAnchor":{"ref":8},"name":"listFiles","fullyQualifiedName":"\"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller\".FileDownloadController.listFiles","numberOfParameters":0,"declaredType":{"ref":7},"cyclomaticComplexity":1,"localVariables":[{"ref":9}],"numberOfStatements":2,"numberOfLinesOfCode":21,"accesses":[{"ref":55},{"ref":79}],"kind":"MethodDeclaration","parentType":{"ref":4}},{"FM3":"FamixTypeScript.Type","id":7,"name":"Promise","behavioursWithDeclaredType":[{"ref":6}]},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":8,"element":{"ref":6},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":716,"endPos":1158},{"FM3":"FamixTypeScript.LocalVariable","id":9,"sourceAnchor":{"ref":11},"name":"files","incomingAccesses":[{"ref":55}],"declaredType":{"ref":10},"parentBehaviouralEntity":{"ref":6}},{"FM3":"FamixTypeScript.Type","id":10,"name":"any","behavioursWithDeclaredType":[{"ref":18},{"ref":41}],"structuresWithDeclaredType":[{"ref":9},{"ref":27},{"ref":33},{"ref":45}]},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":11,"element":{"ref":9},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1091,"endPos":1135},{"FM3":"FamixTypeScript.Decorator","id":12,"sourceAnchor":{"ref":17},"name":"get","parameters":[{"ref":13},{"ref":15}],"container":{"ref":3},"decoratorType":"Method","decoratedEntity":{"ref":6},"isFactory":true},{"FM3":"FamixTypeScript.Parameter","id":13,"sourceAnchor":{"ref":14},"name":"'/files'","parentBehaviouralEntity":{"ref":12}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":14,"element":{"ref":13},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":721,"endPos":729},{"FM3":"FamixTypeScript.Parameter","id":15,"sourceAnchor":{"ref":16},"name":"{\n    responses: {\n      200: {\n        content: {\n          // string[]\n          'application/json': {\n            schema: {\n              type: 'array',\n              items: {\n                type: 'string',\n              },\n            },\n          },\n        },\n        description: 'A list of files',\n      },\n    },\n  }","parentBehaviouralEntity":{"ref":12}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":16,"element":{"ref":15},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":731,"endPos":1057},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":17,"element":{"ref":12},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":716,"endPos":1058},{"FM3":"FamixTypeScript.Method","id":18,"sourceAnchor":{"ref":19},"receivingInvocations":[{"ref":85}],"name":"downloadFile","fullyQualifiedName":"\"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller\".FileDownloadController.downloadFile","numberOfParameters":2,"declaredType":{"ref":10},"cyclomaticComplexity":1,"localVariables":[{"ref":33}],"numberOfStatements":3,"numberOfLinesOfCode":9,"accesses":[{"ref":57},{"ref":59},{"ref":61},{"ref":63},{"ref":65}],"parameters":[{"ref":20},{"ref":27}],"kind":"MethodDeclaration","parentType":{"ref":4}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":19,"element":{"ref":18},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1162,"endPos":1459},{"FM3":"FamixTypeScript.Parameter","id":20,"sourceAnchor":{"ref":26},"name":"fileName","incomingAccesses":[{"ref":57},{"ref":59}],"declaredType":{"ref":21},"parentBehaviouralEntity":{"ref":18}},{"FM3":"FamixTypeScript.Type","id":21,"name":"string","structuresWithDeclaredType":[{"ref":20},{"ref":43},{"ref":49}]},{"FM3":"FamixTypeScript.Decorator","id":22,"sourceAnchor":{"ref":25},"name":"string","parameters":[{"ref":23}],"container":{"ref":3},"decoratorType":"Parameter","decoratedEntity":{"ref":20},"isFactory":true},{"FM3":"FamixTypeScript.Parameter","id":23,"sourceAnchor":{"ref":24},"name":"'filename'","parentBehaviouralEntity":{"ref":22}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":24,"element":{"ref":23},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1250,"endPos":1260},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":25,"element":{"ref":22},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1231,"endPos":1261},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":26,"element":{"ref":20},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1231,"endPos":1278},{"FM3":"FamixTypeScript.Parameter","id":27,"sourceAnchor":{"ref":32},"name":"response","incomingAccesses":[{"ref":61},{"ref":63}],"declaredType":{"ref":10},"parentBehaviouralEntity":{"ref":18}},{"FM3":"FamixTypeScript.Decorator","id":28,"sourceAnchor":{"ref":31},"name":"inject","parameters":[{"ref":29}],"container":{"ref":3},"decoratorType":"Parameter","decoratedEntity":{"ref":27},"isFactory":true},{"FM3":"FamixTypeScript.Parameter","id":29,"sourceAnchor":{"ref":30},"name":"RestBindings.Http.RESPONSE","parentBehaviouralEntity":{"ref":28}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":30,"element":{"ref":29},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1292,"endPos":1318},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":31,"element":{"ref":28},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1284,"endPos":1319},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":32,"element":{"ref":27},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1284,"endPos":1338},{"FM3":"FamixTypeScript.LocalVariable","id":33,"sourceAnchor":{"ref":34},"name":"file","incomingAccesses":[{"ref":65}],"declaredType":{"ref":10},"parentBehaviouralEntity":{"ref":18}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":34,"element":{"ref":33},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1356,"endPos":1394},{"FM3":"FamixTypeScript.Decorator","id":35,"sourceAnchor":{"ref":38},"name":"get","parameters":[{"ref":36}],"container":{"ref":3},"decoratorType":"Method","decoratedEntity":{"ref":18},"isFactory":true},{"FM3":"FamixTypeScript.Parameter","id":36,"sourceAnchor":{"ref":37},"name":"'/files/{filename}'","parentBehaviouralEntity":{"ref":35}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":37,"element":{"ref":36},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1167,"endPos":1186},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":38,"element":{"ref":35},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1162,"endPos":1187},{"FM3":"FamixTypeScript.Decorator","id":39,"sourceAnchor":{"ref":40},"name":"file","container":{"ref":3},"decoratorType":"Method","decoratedEntity":{"ref":18},"isFactory":true},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":40,"element":{"ref":39},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1190,"endPos":1210},{"FM3":"FamixTypeScript.Method","id":41,"sourceAnchor":{"ref":42},"receivingInvocations":[{"ref":87}],"name":"validateFileName","fullyQualifiedName":"\"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller\".FileDownloadController.validateFileName","numberOfParameters":1,"declaredType":{"ref":10},"cyclomaticComplexity":2,"localVariables":[{"ref":45}],"numberOfStatements":3,"numberOfLinesOfCode":5,"outgoingInvocations":[{"ref":85},{"ref":87}],"accesses":[{"ref":67},{"ref":69},{"ref":71},{"ref":73},{"ref":75},{"ref":77},{"ref":81},{"ref":83}],"parameters":[{"ref":43}],"kind":"MethodDeclaration","parentType":{"ref":4}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":42,"element":{"ref":41},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1586,"endPos":1886},{"FM3":"FamixTypeScript.Parameter","id":43,"sourceAnchor":{"ref":44},"name":"fileName","incomingAccesses":[{"ref":67},{"ref":69},{"ref":71},{"ref":73}],"declaredType":{"ref":21},"parentBehaviouralEntity":{"ref":41}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":44,"element":{"ref":43},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1611,"endPos":1627},{"FM3":"FamixTypeScript.LocalVariable","id":45,"sourceAnchor":{"ref":46},"name":"resolved","incomingAccesses":[{"ref":75},{"ref":77}],"declaredType":{"ref":10},"parentBehaviouralEntity":{"ref":41}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":46,"element":{"ref":45},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1641,"endPos":1697},{"FM3":"FamixTypeScript.Method","id":47,"sourceAnchor":{"ref":48},"name":"constructor","fullyQualifiedName":"\"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller\".FileDownloadController.__constructor","numberOfParameters":1,"declaredType":{"ref":4},"numberOfStatements":0,"numberOfLinesOfCode":0,"parameters":[{"ref":49}],"kind":"Constructor","parentType":{"ref":4}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":48,"element":{"ref":47},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":638,"endPos":713},{"FM3":"FamixTypeScript.Parameter","id":49,"sourceAnchor":{"ref":54},"name":"storageDirectory","incomingAccesses":[{"ref":79},{"ref":81},{"ref":83}],"declaredType":{"ref":21},"parentBehaviouralEntity":{"ref":47}},{"FM3":"FamixTypeScript.Decorator","id":50,"sourceAnchor":{"ref":53},"name":"inject","parameters":[{"ref":51}],"container":{"ref":3},"decoratorType":"Parameter","decoratedEntity":{"ref":49},"isFactory":true},{"FM3":"FamixTypeScript.Parameter","id":51,"sourceAnchor":{"ref":52},"name":"STORAGE_DIRECTORY","parentBehaviouralEntity":{"ref":50}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":52,"element":{"ref":51},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":658,"endPos":675},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":53,"element":{"ref":50},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":650,"endPos":676},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":54,"element":{"ref":49},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":650,"endPos":709},{"FM3":"FamixTypeScript.Access","id":55,"sourceAnchor":{"ref":56},"accessor":{"ref":6},"variable":{"ref":9}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":56,"element":{"ref":55},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1148,"endPos":1153},{"FM3":"FamixTypeScript.Access","id":57,"sourceAnchor":{"ref":58},"accessor":{"ref":18},"variable":{"ref":20}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":58,"element":{"ref":57},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1385,"endPos":1393},{"FM3":"FamixTypeScript.Access","id":59,"sourceAnchor":{"ref":60},"accessor":{"ref":18},"variable":{"ref":20}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":60,"element":{"ref":59},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1424,"endPos":1432},{"FM3":"FamixTypeScript.Access","id":61,"sourceAnchor":{"ref":62},"accessor":{"ref":18},"variable":{"ref":27}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":62,"element":{"ref":61},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1400,"endPos":1408},{"FM3":"FamixTypeScript.Access","id":63,"sourceAnchor":{"ref":64},"accessor":{"ref":18},"variable":{"ref":27}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":64,"element":{"ref":63},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1446,"endPos":1454},{"FM3":"FamixTypeScript.Access","id":65,"sourceAnchor":{"ref":66},"accessor":{"ref":18},"variable":{"ref":33}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":66,"element":{"ref":65},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1418,"endPos":1422},{"FM3":"FamixTypeScript.Access","id":67,"sourceAnchor":{"ref":68},"accessor":{"ref":41},"variable":{"ref":43}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":68,"element":{"ref":67},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1557,"endPos":1565},{"FM3":"FamixTypeScript.Access","id":69,"sourceAnchor":{"ref":70},"accessor":{"ref":41},"variable":{"ref":43}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":70,"element":{"ref":69},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1611,"endPos":1619},{"FM3":"FamixTypeScript.Access","id":71,"sourceAnchor":{"ref":72},"accessor":{"ref":41},"variable":{"ref":43}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":72,"element":{"ref":71},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1688,"endPos":1696},{"FM3":"FamixTypeScript.Access","id":73,"sourceAnchor":{"ref":74},"accessor":{"ref":41},"variable":{"ref":43}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":74,"element":{"ref":73},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1870,"endPos":1878},{"FM3":"FamixTypeScript.Access","id":75,"sourceAnchor":{"ref":76},"accessor":{"ref":41},"variable":{"ref":45}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":76,"element":{"ref":75},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1707,"endPos":1715},{"FM3":"FamixTypeScript.Access","id":77,"sourceAnchor":{"ref":78},"accessor":{"ref":41},"variable":{"ref":45}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":78,"element":{"ref":77},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1758,"endPos":1766},{"FM3":"FamixTypeScript.Access","id":79,"sourceAnchor":{"ref":80},"accessor":{"ref":6},"variable":{"ref":49}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":80,"element":{"ref":79},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1118,"endPos":1134},{"FM3":"FamixTypeScript.Access","id":81,"sourceAnchor":{"ref":82},"accessor":{"ref":41},"variable":{"ref":49}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":82,"element":{"ref":81},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1670,"endPos":1686},{"FM3":"FamixTypeScript.Access","id":83,"sourceAnchor":{"ref":84},"accessor":{"ref":41},"variable":{"ref":49}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":84,"element":{"ref":83},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1732,"endPos":1748},{"FM3":"FamixTypeScript.Invocation","id":85,"sourceAnchor":{"ref":86},"receiver":{"ref":18},"sender":{"ref":41}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":86,"element":{"ref":85},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1368,"endPos":1384},{"FM3":"FamixTypeScript.Invocation","id":87,"sourceAnchor":{"ref":88},"receiver":{"ref":41},"sender":{"ref":41}},{"FM3":"FamixTypeScript.IndexedFileAnchor","id":88,"element":{"ref":87},"fileName":"/home/vince/Repos/MGL843/loopback-next/examples/file-transfer/src/controllers/file-download.controller.ts","startPos":1594,"endPos":1610}]